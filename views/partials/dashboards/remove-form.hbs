<main id="remove-form" class="js-dashboard remove-page dashboard clear-header flx flx-col" data-page-label="User Dashboard">
{{#getBreachStats}}
    {{> dashboards/breach-dash-welcome}}
{{/getBreachStats}}
{{#getRemoveFormData}}
<div class="flx flx-col remove-dashboard-container js-remove-dashboard-container"
  {{!-- MH TODO: US Only for now
    {{#if this.acctInfo.addresses.0.country}}data-country="{{this.acctInfo.addresses.0.country}}"{{/if}} 
  --}}
  data-country="US"
>
  
    <div class="mw-860 remove-dashboard-card-container">
      <div class="remove-dashboard-card">
        <div href="/remove-my-data" class="remove-dashboard-card-border flx private-relay-cta" data-analytics-label="join-the-waitlist-link" data-usemailIder-is-signed-up="{{ ./../userHasSignedUpForRemoveData }}">
          <div class="remove-dashboard-card-content flx">
            <div class="private-relay-dashboard-card-copy remove-dashboard-card-copy">
              {{#if ./../supportedLocalesIncludesEnglish}}
              <p class="remove-dashboard-card-body">Firefox Monitor has partnered with The Kanary, which can actively scan and automatically remove your personal data from <a href="/user/remove-sites-list">50 different data broker websites</a>. These sites expose your personal information to anyone who searches for you, thereby putting you at risk.</p>
              {{/if}}
              <p class="remove-dashboard-card-body"><a href="https://www.thekanary.com/faq" target="_blank">{{ getString "dash-remove-intro-service-link"}}</a></p>
              {{#if this.acctInfo}}
              <p class="remove-dashboard-card-body">
                <span class="bold">{{ getString "dash-remove-info-change-title"}}</span><br/>
                {{ getString "dash-remove-info-change"}}
              </p>
              {{else}}
              <p class="remove-dashboard-card-body">
                <span class="bold">{{ getString "dash-remove-intro-signup-title"}}</span><br/>
                {{ getString "dash-remove-intro-signup"}}
              </p>
              {{/if}}
            </div>
          </div>
        </div>
      </div>
    </div>
  <div class="mw-860 remove-dashboard-section-container">
    <section class="remove-dashboard-form-container remove-dashboard-section">
      <form action="{{#if this.acctInfo}}/user/remove-acct-update{{else}}/user/remove-data-submit{{/if}}" method="post" id="remove-data-signup-form" class="remove-dashboard-form form-group" data-event-category="Remove Data Form">
      <div class="remove-dashboard-form-enter">
        
          {{#if this.acctInfo}}<input type="hidden" name="id" value="{{ this.acctInfo.id }}">{{/if}}
          <input type="hidden" name="_csrf" value="{{ csrfToken }}">
          <div class="input-group">
            <div class="input-group remove-account-select">
              <label for="remove-dashboard-form-email" class="input-group-label field--full required">{{ getString "dash-remove-form-email-label"}}</label>
              <div class="tmp-select-output flx space-between">
                <select id="remove-dashboard-form-email" required class="tmp-select-email bold" name="account" id="account">
                {{#each this.verifiedEmails }}
                  <option value="{{ email }}">{{ email }}</option>
                {{/each}}
                </select>
              </div>
            </div>
          </div>
          <div class="input-group">
            <div class="flx space-between cntr">
              <label for="remove-dashboard-form-first-name" class="input-group-label field--full required">{{ getString "dash-remove-form-name-label"}}</label>
              <a href="#" role="button" class="nowrap" data-micromodal-trigger="modal-info-needed">Why is this needed?</a>
            </div>
            <div class="flx remove-dashboard-form-name">
              <input required id="remove-dashboard-form-first-name" class="input-group-field" type="text" name="firstname" pattern="(-?([A-Z'-].\s)?([A-Z'-][a-z'-]+)\s?)+([A-Z'-]'([A-Z'-][a-z'-]+))?" placeholder="{{ getString "dash-remove-form-name-first"}}" aria-label="{{ getString "dash-remove-form-name-first"}}" autocomplete="off" 
                {{#if this.acctInfo.names.0.first_name}}value="{{this.acctInfo.names.0.first_name}}"{{/if}}
              >
              <input id="remove-dashboard-form-middle-name" class="input-group-field remove-dashboard-form-middle-name" type="text" name="middlename" pattern="(-?([A-Z'-].\s)?([A-Z'-][a-z'-]+)\s?)+([A-Z'-]'([A-Z'-][a-z'-]+))?" placeholder="{{ getString "dash-remove-form-name-middle"}}" aria-label="{{ getString "dash-remove-form-name-middle"}}" autocomplete="off" 
                {{#if this.acctInfo.names.0.middle_name}}value="{{this.acctInfo.names.0.middle_name}}"{{/if}}
              >
              <input required id="remove-dashboard-form-last-name" class="input-group-field flx-grow" type="text" name="lastname" pattern="(-?([A-Z'-].\s)?([A-Z'-][a-z'-]+)\s?)+([A-Z'-]'([A-Z'-][a-z'-]+))?" placeholder="{{ getString "dash-remove-form-name-last"}}" aria-label="{{ getString "dash-remove-form-name-last"}}" autocomplete="off"
                {{#if this.acctInfo.names.0.last_name}}value="{{this.acctInfo.names.0.last_name}}"{{/if}}
              >
            </div>
            
          </div>
          <div class="input-group">
            <label for="remove-dashboard-form-loc-city" class="input-group-label field--full required">{{ getString "dash-remove-form-loc-label"}}</label>
            <div class="flx remove-dashboard-form-loc">
              <input required id="remove-dashboard-form-loc-city" class="input-group-field" type="text" name="city" pattern="[A-Z a-z]+" placeholder="{{ getString "dash-remove-form-loc-city"}}" aria-label="{{ getString "dash-remove-form-loc-city"}}" autocomplete="off"
                {{#if this.acctInfo.addresses.0.city}}value="{{this.acctInfo.addresses.0.city}}"{{/if}}
              >
              <div class="input-group-field remove-dashboard-select-container remove-dashboard-form-country-container">
                <select required id="remove-dashboard-form-loc-country" class="input-group-select remove-dashboard-form-loc-select js-form-select" name="country">
                  {{!--MH TEMP: US ONLY--}}
                  <option selected value="US">US</option>
                  {{!-- <option disabled {{#unless this.acctInfo.addresses.0.country}}selected{{/unless}} value>{{ getString "dash-remove-form-loc-country"}}</option>
                  {{#if this.acctInfo.addresses.0.country}}
                  <option selected value="{{ this.acctInfo.addresses.0.country }}" >{{ this.acctInfo.addresses.0.country }}</option>
                  {{/if}}
                  {{#each this.countries }}
                    <option value="{{ countryCode }}" >{{ countryCode }}</option>
                  {{/each}} --}}
                </select>
              </div>
              <div class="input-group-field remove-dashboard-select-container remove-dashboard-state-container">
                <label class="sr-only" for="remove-dashboard-form-loc-state">{{getString "dash-remove-form-loc-state"}}</label>
                <select id="remove-dashboard-form-loc-state" class="input-group-select remove-dashboard-form-loc-select js-form-select" name="state">
                    <option disabled {{#unless this.acctInfo.addresses.0.state}}selected{{/unless}}>{{ getString "dash-remove-form-loc-state"}}</option>
                    {{#if this.acctInfo.addresses.0.state}}
                      <option selected value="{{ this.acctInfo.addresses.0.state }}" >{{ this.acctInfo.addresses.0.state }}</option>
                    {{/if}}
                    {{#each this.usStates }}
                      <option value="{{ stateCode }}">{{ stateCode }}</option>
                    {{/each}}
                </select>
              </div>
            </div>
            
          </div>
          <div class="input-group">
            <label for="remove-dashboard-form-year required" class="input-group-label field--full required">{{ getString "dash-remove-form-birth-year-label"}}</label>
            <input required id="remove-dashboard-form-year" class="input-group-field" type="text" name="birthyear" maxlength="4" minlength="4" pattern="[0-9]{4}" placeholder="{{ getString "dash-remove-form-birth-year-label"}}" aria-label="{{ getString "dash-remove-form-birth-year"}}" autocomplete="off"
              {{#if this.acctInfo.birth_year}}value="{{this.acctInfo.birth_year}}"{{/if}}
            >
            
          </div>
          <div class="input-group">
            <label for="remove-dashboard-form-privacy" class="input-group-label field--full">{{ getString "dash-remove-form-privacy-label"}}</label>
            <div class="flx jst-cntr">
              <p class="input-group-checkbox-text">
                {{ getString "dash-remove-form-privacy"}}
                <a href="{{jsConstants.KANARY_PRIVACY_LINK}}" target="_blank">{{ getString "dash-remove-form-privacy-link"}}</a>
              </p>
            </div>
            
          </div>
          <div class="input-group-button inline">
            <input id="remove-dashboard-data-submit" class="js-remove-submit input-group-submit remove-dashboard-data-submit inline" type="submit" 
              value="{{#if this.acctInfo}}{{ getString "dash-remove-change-submit" }}{{else}}{{ getString "dash-remove-submit" }}{{/if}}"/>
            {{> forms/loader }}
          </div>
          <div class="flx flx-col flx-cntr">
            {{#unless this.acctInfo}}<p class="remove-dashboard-form-disclaimer">{{ getString "dash-remove-form-disclaimer"}}</p>{{/unless}}
            <p class="alert remove-dashboard-form-rqd bold">{{ getString "dash-remove-form-required-helper"}}</p>
          </div>
        

        {{#if this.acctInfo}}
        <div class="remove-dashboard-delete-container flx jst-cntr">
          <a href="/user/remove-kan" class="btn-transparent btn-red btn-small">{{getString "remove-form-data-delete"}}</a>
        </div>
        {{/if}}
      </div>
      {{> dashboards/remove-form-confirm}}
      </form>
    </section>
  </div>
</div>

<div class="flx flx-col js-remove-success-container is-hidden">
  <div class="mw-860 flx flx-col remove-dashboard-section remove-success-section">
    <div class="flx jst-cntr">
      <img class="remove-success-icon" src="/img/svg/remove-form-success-icon.svg" alt="{{getString "remove-form-success-alt"}}"/>
    </div>
    <div class="flx flx-col txt-cntr remove-success-text-section">
      <h2 class="title-section">{{ getString "remove-form-success-title"}}</h2>
      <p>{{ getString "remove-form-success-details"}}</p>
    </div>
    <div class="flx flx-col txt-cntr remove-success-text-section">
      <h2 class="title-section">{{ getString "remove-form-success-next-title"}}</h2>
      <p>{{ getString "remove-form-success-next-details"}}</p>
    </div>
  </div>
</div>
{{> dashboards/remove-form-kanary-footer}}
{{/getRemoveFormData}}
</main>

{{> data-removal/modal-info-needed}}